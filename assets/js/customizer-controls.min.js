!function(t,o){t.customize.controlConstructor.gt_drive_custom_font=t.customize.Control.extend({ready:function(){var t=this.container.find(".customize-control-title").data();this.l10n=t.l10n,this.font=t.font,this.$btnContainer=this.container.find(".actions"),this.$btnStandard=o('<button type="button" class="button standard">'+this.l10n.standard+"</button>").prependTo(this.$btnContainer),this.$btnNext=o('<button type="button" class="button next" title="'+this.l10n.next+'">&raquo;</button>').prependTo(this.$btnContainer),this.$btnPrevious=o('<button type="button" class="button previous" title="'+this.l10n.previous+'">&laquo;</button>').prependTo(this.$btnContainer),_.bindAll(this,"standard","next","previous"),this.$btnStandard.on("click",this.standard),this.$btnNext.on("click",this.next),this.$btnPrevious.on("click",this.previous)},standard:function(t){t.preventDefault();var n=this.container.find("select");n.find("option[selected]").removeAttr("selected"),n.find('option[value="'+this.font+'"]').attr("selected","selected"),n.trigger("change")},next:function(t){t.preventDefault();var n=this.container.find("select"),i=n.find("option").filter(":selected"),e=this.nextOrFirst(i);i.removeAttr("selected"),e.attr("selected","selected"),n.trigger("change")},previous:function(t){t.preventDefault();var n=this.container.find("select"),i=n.find("option").filter(":selected"),e=this.prevOrLast(i);i.removeAttr("selected"),e.attr("selected","selected"),n.trigger("change")},nextOrFirst:function(t){var n=t.next();return n.length?n:t.prevAll().last()},prevOrLast:function(t){var n=t.prev();return n.length?n:t.nextAll().last()}}),t.customize.controlConstructor.gt_drive_license_key=t.customize.Control.extend({ready:function(){var t=this.container.find(".customize-license-control").data();this.l10n=t.l10n,this.status=t.status,this.displayStatus(this.status),this.buttonContainer=this.container.find(".actions"),this.buttonActivate=o('<button type="button" class="button button-primary activate" title="'+this.l10n.activate+'">'+this.l10n.activate+"</button>").prependTo(this.buttonContainer),this.buttonDeactivate=o('<button type="button" class="button deactivate" title="'+this.l10n.deactivate+'">'+this.l10n.deactivate+"</button>").prependTo(this.buttonContainer),this.displayButtons(this.status),_.bindAll(this,"activateLicense","deactivateLicense","displayStatus","displayButtons"),this.buttonActivate.on("click",this.activateLicense),this.buttonDeactivate.on("click",this.deactivateLicense)},displayStatus:function(t){var n=this.container.find(".license-status"),i=this.container.find(".license-description");"valid"===t?(n.html('<span class="valid">'+this.l10n.valid+"</span>"),i.html(this.l10n.valid_desc)):"expired"===t?(n.html('<span class="expired">'+this.l10n.expired+"</span>"),i.html(this.l10n.expired_desc)):"invalid"===t?(n.html('<span class="invalid">'+this.l10n.invalid+"</span>"),i.html(this.l10n.invalid_desc)):(n.html('<span class="inactive">'+this.l10n.inactive+"</span>"),i.html(""))},displayButtons:function(t){var n=this.container.find("input");"valid"===t?(this.buttonActivate.hide(),this.buttonDeactivate.show(),n.prop("disabled",!0)):(this.buttonActivate.show(),this.buttonDeactivate.hide(),n.prop("disabled",!1))},activateLicense:function(t){t.preventDefault();var n=this.buttonActivate,i=this.container.find(".license-status"),e=this.container.find("input").val(),s=this.displayStatus,a=this.displayButtons;n.prop("disabled",!0),i.html('<span class="loading">'+this.l10n.loading+"</span>"),o.ajax({url:ajaxurl,data:{action:"gt_activate_license",license_key:e},success:function(t){s(t),a(t)},error:function(t){console.log(t),i.html('<span class="error">'+t.status+": "+t.statusText+"</span>")},complete:function(){n.prop("disabled",!1)}})},deactivateLicense:function(t){t.preventDefault();var n=this.buttonDeactivate,i=this.container.find(".license-status"),e=this.container.find("input").val(),s=this.displayStatus,a=this.displayButtons;n.prop("disabled",!0),i.html('<span class="loading">'+this.l10n.loading+"</span>"),o.ajax({url:ajaxurl,data:{action:"gt_deactivate_license",license_key:e},success:function(t){s(t),a(t)},error:function(t){console.log(t),i.html('<span class="error">'+t.status+": "+t.statusText+"</span>")},complete:function(){n.prop("disabled",!1)}})}})}(this.wp,jQuery);